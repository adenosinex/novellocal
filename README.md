# 小说阅读器（Flask）

功能概述：
- 支持按文件名搜索
- 支持按文件的前100字内容搜索
- 可以将文件索引到 SQLite 数据库

快速开始：

1. 安装依赖：

```powershell
python -m pip install -r requirements.txt
```

2. 把要索引的文本文件放到 `novels/` 目录下，或在首页表单中填写文件路径/目录路径进行索引：

- 支持输入单个文件路径（绝对路径或相对 `novels/` 的路径）。
- 支持输入目录路径（绝对或相对），会递归索引该目录下的所有 `.txt` 文件。

编码与虚拟章节说明：
- 程序会尝试自动检测文件编码（使用 `chardet`），优先读取 `utf-8`，失败时使用检测到的编码读取。
- 如果无法识别章节标题（例如没有“第X章”或“Chapter N”），应用会自动将文本按近似长度或段落边界拆分为若干“虚拟章节”，以便在阅读器中分页和跳转。

3. 运行应用：

```powershell
python app.py
```

4. 在浏览器打开 `http://127.0.0.1:5000/`，可以在首页索引文件或搜索。

注意事项：
- 目前仅对 `.txt` 文件批量索引；单个索引支持任意路径（会尝试读取文件）。
- 数据库文件为 `novels.db`，位于项目根目录。

下一步建议：上传接口、全文索引（全文搜索引擎）、分页阅读。欢迎告诉我想要的扩展。
